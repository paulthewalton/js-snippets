<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>arrays.js - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <input type="text" id="nav-search" placeholder="Search" />
    
    <h2><a href="index.html">Home</a></h2><h2><a href="https://github.com/your-github-username/pet-adoption-center-sdk" target="_blank" class="menu-item" id="repository" >Github repo</a></h2><h3>Classes</h3><ul><li><a href="CompatResolver.html">CompatResolver</a><ul class='methods'><li data-type='method' style='display: none;'><a href="CompatResolver.html#add">add</a></li><li data-type='method' style='display: none;'><a href="CompatResolver.html#resolve">resolve</a></li></ul></li><li><a href="CompatResolver_CompatResolver.html">CompatResolver#CompatResolver</a></li><li><a href="Emitter.html">Emitter</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Emitter.html#addEventListener">addEventListener</a></li><li data-type='method' style='display: none;'><a href="Emitter.html#dispatchEvent">dispatchEvent</a></li><li data-type='method' style='display: none;'><a href="Emitter.html#removeEventListener">removeEventListener</a></li></ul></li></ul><h3>Global</h3><ul><li><a href="global.html#allowProps">allowProps</a></li><li><a href="global.html#allowValues">allowValues</a></li><li><a href="global.html#applyEventListeners">applyEventListeners</a></li><li><a href="global.html#areSameType">areSameType</a></li><li><a href="global.html#arraysAreEqual">arraysAreEqual</a></li><li><a href="global.html#assertArray">assertArray</a></li><li><a href="global.html#batch">batch</a></li><li><a href="global.html#batchApply">batchApply</a></li><li><a href="global.html#Breakpoint">Breakpoint</a></li><li><a href="global.html#byNumericValue">byNumericValue</a></li><li><a href="global.html#calculateScrollbarWidth">calculateScrollbarWidth</a></li><li><a href="global.html#camelCase">camelCase</a></li><li><a href="global.html#capMinMax">capMinMax</a></li><li><a href="global.html#compareProps">compareProps</a></li><li><a href="global.html#CompatCancelAnimationFrame">CompatCancelAnimationFrame</a></li><li><a href="global.html#compatCancelAnimationFrame">compatCancelAnimationFrame</a></li><li><a href="global.html#CompatNow">CompatNow</a></li><li><a href="global.html#compatNow">compatNow</a></li><li><a href="global.html#CompatRequestAnimationFrame">CompatRequestAnimationFrame</a></li><li><a href="global.html#compatRequestAnimationFrame">compatRequestAnimationFrame</a></li><li><a href="global.html#CompatResolverCandidate">CompatResolverCandidate</a></li><li><a href="global.html#compose">compose</a></li><li><a href="global.html#copyArray">copyArray</a></li><li><a href="global.html#copyToClipboard">copyToClipboard</a></li><li><a href="global.html#createElem">createElem</a></li><li><a href="global.html#debounce">debounce</a></li><li><a href="global.html#denyProps">denyProps</a></li><li><a href="global.html#denyValues">denyValues</a></li><li><a href="global.html#diff">diff</a></li><li><a href="global.html#dispatchCustomEvent">dispatchCustomEvent</a></li><li><a href="global.html#ensureCSSUnits">ensureCSSUnits</a></li><li><a href="global.html#EventListenerOptionsCompat">EventListenerOptionsCompat</a></li><li><a href="global.html#extend">extend</a></li><li><a href="global.html#fallbackUntil">fallbackUntil</a></li><li><a href="global.html#fallbackUntilAsync">fallbackUntilAsync</a></li><li><a href="global.html#flatten">flatten</a></li><li><a href="global.html#formatSeconds">formatSeconds</a></li><li><a href="global.html#FREQ">FREQ</a></li><li><a href="global.html#getEm">getEm</a></li><li><a href="global.html#getEventPath">getEventPath</a></li><li><a href="global.html#getHTML">getHTML</a></li><li><a href="global.html#getIndexedValue">getIndexedValue</a></li><li><a href="global.html#getJSON">getJSON</a></li><li><a href="global.html#getPageOffset">getPageOffset</a></li><li><a href="global.html#getParents">getParents</a></li><li><a href="global.html#getUniqueId">getUniqueId</a></li><li><a href="global.html#hasAllProps">hasAllProps</a></li><li><a href="global.html#hasAnyProps">hasAnyProps</a></li><li><a href="global.html#indexArray">indexArray</a></li><li><a href="global.html#isArray">isArray</a></li><li><a href="global.html#isCallable">isCallable</a></li><li><a href="global.html#isDev">isDev</a></li><li><a href="global.html#isDomObject">isDomObject</a></li><li><a href="global.html#isInDom">isInDom</a></li><li><a href="global.html#isInt">isInt</a></li><li><a href="global.html#isInViewport">isInViewport</a></li><li><a href="global.html#isNumber">isNumber</a></li><li><a href="global.html#isNumeric">isNumeric</a></li><li><a href="global.html#isObject">isObject</a></li><li><a href="global.html#isPojo">isPojo</a></li><li><a href="global.html#isSameOrChildNode">isSameOrChildNode</a></li><li><a href="global.html#isScrollable">isScrollable</a></li><li><a href="global.html#isString">isString</a></li><li><a href="global.html#kebabCase">kebabCase</a></li><li><a href="global.html#leftPad">leftPad</a></li><li><a href="global.html#listenerOptions">listenerOptions</a></li><li><a href="global.html#lowerCaseFirst">lowerCaseFirst</a></li><li><a href="global.html#lowerCaseWords">lowerCaseWords</a></li><li><a href="global.html#makeTest">makeTest</a></li><li><a href="global.html#makeVerbosePromise">makeVerbosePromise</a></li><li><a href="global.html#matchProps">matchProps</a></li><li><a href="global.html#onDocReady">onDocReady</a></li><li><a href="global.html#parseBool">parseBool</a></li><li><a href="global.html#parseCSSColor">parseCSSColor</a></li><li><a href="global.html#parseCSSTime">parseCSSTime</a></li><li><a href="global.html#ParsedCSSColor">ParsedCSSColor</a></li><li><a href="global.html#partial">partial</a></li><li><a href="global.html#partialRight">partialRight</a></li><li><a href="global.html#pascalCase">pascalCase</a></li><li><a href="global.html#pathJoin">pathJoin</a></li><li><a href="global.html#percentage">percentage</a></li><li><a href="global.html#Point">Point</a></li><li><a href="global.html#polyfill">polyfill</a></li><li><a href="global.html#preloadImage">preloadImage</a></li><li><a href="global.html#processPartialPlaceholders">processPartialPlaceholders</a></li><li><a href="global.html#RECT">RECT</a></li><li><a href="global.html#request">request</a></li><li><a href="global.html#RequestUtilResponse">RequestUtilResponse</a></li><li><a href="global.html#rotateArray">rotateArray</a></li><li><a href="global.html#ScrollbarStatus">ScrollbarStatus</a></li><li><a href="global.html#scrollIntoView">scrollIntoView</a></li><li><a href="global.html#sentenceCase">sentenceCase</a></li><li><a href="global.html#sequence">sequence</a></li><li><a href="global.html#setPrefixedStyle">setPrefixedStyle</a></li><li><a href="global.html#setUpInterfaceDetection">setUpInterfaceDetection</a></li><li><a href="global.html#setUpMediaQueries">setUpMediaQueries</a></li><li><a href="global.html#setUpTabFocus">setUpTabFocus</a></li><li><a href="global.html#shuffleArray">shuffleArray</a></li><li><a href="global.html#snakeCase">snakeCase</a></li><li><a href="global.html#snapshot">snapshot</a></li><li><a href="global.html#stripCase">stripCase</a></li><li><a href="global.html#stripEnd">stripEnd</a></li><li><a href="global.html#stripStart">stripStart</a></li><li><a href="global.html#testImageURL">testImageURL</a></li><li><a href="global.html#throttle">throttle</a></li><li><a href="global.html#TIME">TIME</a></li><li><a href="global.html#titleCase">titleCase</a></li><li><a href="global.html#toDecimal">toDecimal</a></li><li><a href="global.html#toInteger">toInteger</a></li><li><a href="global.html#toNumber">toNumber</a></li><li><a href="global.html#uniq">uniq</a></li><li><a href="global.html#unwrapPromises">unwrapPromises</a></li><li><a href="global.html#upperCaseFirst">upperCaseFirst</a></li><li><a href="global.html#upperCaseWords">upperCaseWords</a></li><li><a href="global.html#upperSnakeCase">upperSnakeCase</a></li><li><a href="global.html#VerbosePromise">VerbosePromise</a></li><li><a href="global.html#XMLHttpRequestBody">XMLHttpRequestBody</a></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">arrays.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @file
 * @kind overview
 * @summary Array utility functions.
 * @author Paul Walton
 */

import { isCallable } from "./type";
import { partial } from "./functions";

/**
 * Make sure that a value is an array.
 * @arg {*} value - Value to check.
 * @arg {number} [minLength=0] - Minimum length for returned array.
 * @arg {*} [fill] - Value to insert when filling. If function, will be called with the current index, inserting the returned value.
 * @returns {Array}
 */
export function assertArray(value, minLength = 0, fill = undefined) {
	let arr;
	if (Array.isArray(value)) {
		arr = value;
	} else if (value instanceof HTMLCollection || value instanceof NodeList) {
		arr = Array.from(value);
	} else if (value === undefined) {
		arr = [];
	} else {
		arr = [value]; // else wrap in array
	}
	while (arr.length &lt; minLength) {
		arr.push(isCallable(fill) ? fill(arr.length) : fill);
	}
	return arr;
}

/**
 * Check whether 2 arrays are equal.
 * @arg {Array} a - First array.
 * @arg {Array} b - Second array.
 * @arg {boolean} strict - Whether to evaluate each item, or just compare JSON strings.
 * @returns {boolean}
 */
export function arraysAreEqual(a, b, strict = false) {
	if (a == null || b == null || !Array.isArray(a) || !Array.isArray(b) || a.length !== b.length) {
		return false;
	}
	if (!strict) {
		return JSON.stringify(a) === JSON.stringify(b);
	}
	for (let i = a.length - 1; i >= 0; i--) {
		if (a[i] !== b[i]) {
			return false;
		}
	}
	return true;
}

/**
 * Strip array to unique values.
 * @arg {Array} arr - An array.
 * @returns {Array} Array of unique values.
 * @example
 * uniq([1, 1, 3, 'cat', 1, 'cat']); // -> [1, 3, 'cat']
 */
export function uniq(arr) {
	const primatives = {
			Boolean: Object.create(null),
			number: Object.create(null),
			string: Object.create(null),
		},
		objects = [];

	return arr.filter(function (item) {
		const type = typeof item;
		if (primatives.hasOwnProperty(type)) {
			return primatives[type].hasOwnProperty(item) ? false : (primatives[type][item] = true);
		}
		return objects.indexOf(item) >= 0 ? false : objects.push(item);
	});
}

/**
 * Flatten an array up to a set number of levels.
 * @arg {Array} arr - Array to flatten.
 * @arg {number} [depth=1] - Max depth of flattening.
 * @returns {Array}
 * @example
 * flatten([1,2,[3,4],5]); // -> [1,2,3,4,5]
 * flatten([1,2,[3,[4]],5], 1); // -> [1,2,3,[4],5]
 * flatten([1,2,[3,[[[[4]]]]],5], Infinity); // -> [1,2,3,4,5]
 */
export function flatten(arr, depth = 1) {
	return depth > 0
		? arr.reduce((acc, val) => {
				return acc.concat(Array.isArray(val) ? flatten(val, depth - 1) : val);
		  }, [])
		: arr.slice();
}
/**
 * Filter unknown values out of a given array.
 * @arg {Array} allowedValues - Array of allowed values/objects.
 * @arg {Array} subject - Array to filter.
 * @returns {Array} Filtered array.
 * @example
 * allow([2,4], [1,1,2,3,4,4,4,5,9]); // -> [2,4,4,4]
 */
export function allowValues(allowedValues, subject) {
	return subject.filter((value) => allowedValues.includes(value));
}

/**
 * Filter known values out of a given array.
 * @arg {Array} deniedValues - Array of denied values/objects.
 * @arg {Array} subject - Array to filter.
 * @returns {Array} Filtered array.
 * @example
 * var nums = [1,1,2,3,4,4,4,5,9];
 * nums = denyValues([2,4], nums); // -> [1,1,3,5,9]
 */
export function denyValues(deniedValues, subject) {
	return subject.filter((value) => !deniedValues.includes(value));
}

/**
 * Get indexed entry of an array by the indexed property.
 * * Assumes `idx` is up to date with `arr`.
 * @summary Get indexed entry of an array by the indexed property.
 * @function
 * @arg {Object[]} arr
 * @arg {Map} idx
 * @arg {*} key
 * @returns {Object|undefined}
 * @example
 * const fruitsInKitchen = [
 * 	{ name: "banana" },
 * 	{ name: "kiwi" },
 * ];
 * const [fruitsByName] = indexArray(fruitsInKitchen, "name");
 * getIndexedValue(fruitsInKitchen, fruitsByName, "kiwi"); // => { name: "kiwi" }
 */
export const getIndexedValue = (arr, idx, key) => arr[idx.get(key)];

/**
 * Index an array of objects to quickly access its entries by a unique key.
 * @arg {Object[]} arr
 * @arg {string|Symbol} uniqueKey - Key for a property that will be unique for each member of the array.
 * @returns {Array.&lt;Map, Function>} Index object and prefilled accessor function
 * @example
 * const fruitsInKitchen = [
 * 	{ name: "banana" },
 * 	{ name: "kiwi" },
 * 	{ name: "mango" },
 * ];
 * const [fruitsByName, getFruitsByName] = indexArray(fruitsInKitchen, "name");
 * fruitsByName.get("kiwi"); // => { name: "kiwi" }
 * getFruitsByName("mango"); // => { name: "mango" }
 * getFruitsByName("banana") === fruitsInKitchen[0]; // => true
 */
export function indexArray(arr, uniqueKey) {
	const idx = new Map();
	for (let i = 0; i &lt; arr.length; i++) {
		const value = arr[i];
		idx.set(value[uniqueKey], i);
	}
	return [idx, partial(getIndexedValue, arr, idx)];
}

/**
 * Shuffle the elements of an array. Uses the Durstenfeld shuffle.
 * * Shuffles in place, use `arr.slice(0)` to get a copy of the array to shuffle.
 * @summary Shuffle the elements of an array.
 * @arg {Array} arr
 * @returns {Array}
 * @example
 * const numbers = [1,2,3,4,5];
 * shuffleArray(numbers); // -> [1,4,2,5,3]
 */
export function shuffleArray(arr) {
	for (let i = arr.length - 1; i > 0; i--) {
		let j = Math.floor(Math.random() * (i + 1));
		let temp = arr[i];
		arr[i] = arr[j];
		arr[j] = temp;
	}
}

/**
 * Get a rotated copy of an array.
 * @arg {Array} arr
 * @arg {number} [rotation=1] Index to rotate to / Number of places to rotate by.
 * @return {Array}
 * @example
 * let arr = [1,2,3,4];
 * rotateArray(arr); // -> [2,3,4,1]
 * rotateArray(arr, 3); // -> [4,1,2,3]
 * rotateArray(arr, -2); // -> [3,4,1,2]
 */
export function rotateArray(arr, rotation = 1) {
	rotation = rotation % arr.length;
	if (!rotation) {
		return arr;
	}
	return arr.slice(rotation).concat(arr.slice(0, rotation));
}

/**
 * Get a copy of an array. Just aliases Array.prototype.slice to better communicate intent.
 * @summary Get a copy of an array.
 * @arg {Array} arr
 * @returns {Array}
 * @example
 * let a = [1,2,3];
 * let b = copyArray(a);
 * a == b; // -> false
 * arraysAreEqual(a,b); // -> true
 */
export const copyArray = (arr) => arr.slice(0);
</code></pre>
        </article>
    </section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.10</a> on Tue Feb 15 2022 14:17:16 GMT-0800 (Pacific Standard Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>

<script src="scripts/search.js" defer></script>


<script src="scripts/collapse.js" defer></script>


</body>
</html>
